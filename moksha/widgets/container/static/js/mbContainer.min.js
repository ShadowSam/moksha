var msie6=$.browser.msie&&$.browser.version=="6.0";jQuery.fn.buildContainers=function(){var A=100;return this.each(function(){var B=$(this);B.find(".containerTable:first").css("width","100%");B.find(".c:first").wrapInner("<div class='containerBody'style='display:block'></div>");B.find(".containerBody:first").wrapInner("<div class='spacer'></div>");B.find(".n:first").attr("unselectable","on");var C=B.attr("icon")?B.attr("icon"):"";var D=B.attr("buttons")?B.attr("buttons"):"";B.setIcon(C);B.setButtons(D);if(msie6&&B.css("height")=="auto"){B.find(".containerBody:first").hide()}B.find(".containerBody:first",".c:first").css("height",B.outerHeight()-B.find(".n:first").outerHeight()-B.find(".s:first").outerHeight());if(msie6&&B.css("height")=="auto"){B.find(".containerBody:first").show()}if(B.hasClass("draggable")){B.css({position:"absolute"});B.css({zIndex:A++});B.draggable({handle:".n:first",cancel:".c",delay:0,containment:"document"});B.mousedown(function(){$(this).css({zIndex:A++})})}if(B.hasClass("resizable")){B.containerResize()}})};jQuery.fn.containerResize=function(){$(this).resizable({handles:$(this).hasClass("draggable")?"":"s,e",minWidth:150,minHeight:150,helper:"proxy",transparent:!$.browser.msie,autoHide:!msie6,stop:function(B,C){var A=msie6?C.helper:$(this);this.elHeight=A.outerHeight()-$(this).find(".n:first").outerHeight()-$(this).find(".s:first").outerHeight();$(this).find(".containerBody:first",".c:first").css({height:this.elHeight})}})};jQuery.fn.setIcon=function(A){if(A!=""){$(this).find(".no:first").append("<img class='icon' src='elements/"+A+"' style='position:absolute'>")}else{$(this).find(".n:first").css({paddingLeft:"0"})}};jQuery.fn.setButtons=function(E){var A=$(this);if(E!=""){var D=E.split(",");$(this).find(".ne:first").append("<div class='buttonBar' style='position:absolute'></div>");for(var C in D){if(D[C]=="c"){$(this).find(".buttonBar:first").append("<img src='elements/close.png' class='close'>");$(this).find(".close:first").bind("click",function(){A.fadeOut(200)})}if(D[C]=="m"){$(this).find(".n:first").attr("unselectable","on");$(this).find(".buttonBar:first").append("<img src='elements/min.png' class='minimizeContainer'>");$(this).find(".minimizeContainer:first").bind("click",function(){A.minimize()});$(this).find(".n:first").bind("dblclick",function(){A.minimize()})}if(D[C]=="p"){$(this).find(".buttonBar:first").append("<img src='elements/print.png' class='printContainer'>");$(this).find(".printContainer:first").bind("click",function(){})}if(D[C]=="i"){$(this).find(".buttonBar:first").append("<img src='elements/iconize.png' class='iconizeContainer'>");$(this).find(".iconizeContainer:first").bind("click",function(){A.iconize()})}}var B=$.browser.mozilla||$.browser.safari;$(this).find(".buttonBar:first img").css({opacity:0.5,cursor:"pointer"}).mouseover(function(){if(B){$(this).fadeTo(200,1)}}).mouseout(function(){if(B){$(this).fadeTo(200,0.5)}})}};jQuery.fn.minimize=function(){var A=$(this);if(!this.minimized){this.w=A.width();this.h=A.height();A.find(".containerTable:first").css("width","100%");A.find(".middle:first").fadeOut("fast",function(){A.css("height","")});this.minimized=true;A.find(".minimizeContainer:first").attr("src","elements/max.png");A.resizable("destroy")}else{A.find(".middle:first").fadeIn("slow",function(){A.css("height",A.find(".containerTable:first").height())});if(A.hasClass("resizable")){A.containerResize()}this.minimized=false;A.find(".minimizeContainer:first").attr("src","elements/min.png")}};jQuery.fn.iconize=function(){return this.each(function(){var A=$(this);A.attr("w",A.width());A.attr("h",A.height());A.attr("t",A.css("top"));A.attr("l",A.css("left"));A.resizable("destroy");if(!$.browser.msie){A.find(".containerTable:first").fadeOut("fast");A.animate({height:"32px",width:"32px",left:0},200)}else{A.find(".containerTable:first").hide();A.css({height:"32px",width:"32px",left:0})}A.append("<img src='elements/"+(A.attr("icon")?A.attr("icon"):"restore.png")+"' class='restoreContainer'>");A.find(".restoreContainer:first").bind("click",function(){if(!$.browser.msie){A.find(".containerTable:first").fadeIn("fast");A.animate({height:A.attr("h"),width:A.attr("w"),left:A.attr("l")},200)}else{A.find(".containerTable:first").show();A.css({height:A.attr("h"),width:A.attr("w"),left:A.attr("l")})}A.find(".restoreContainer:first").remove()})})};